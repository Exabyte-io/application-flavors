monitors:
  - standard_output
results:
  - phonon_dos
  - phonon_dispersions
  - zero_point_energy
flavors:
  ph_path:
    input:
      - name: ph_path
        fileName: ph.in
    results:
      - phonon_dispersions
    monitors:
      - standard_output
    applicationName: espresso
    executableName: ph.x
    contextProviders:
      - name: QPathFormDataManager
    staticContext:
      ph_path:
        !include 'executables/espresso/staticContent/ph.x.yml#/ph_path'
    requiredKeys:
      - inputph.tr2_ph
      - inputph.asr
      - inputph.search_sym
      - inputph.prefix
      - inputph.outdir
      - inputph.xq

  ph_grid:
    input:
      - name: ph_grid
        fileName: ph.in
    results:
      - phonon_dos
    monitors:
      - standard_output
    applicationName: espresso
    executableName: ph.x
    contextProviders:
      - name: QGridFormDataManager
    staticContext:
      ph_grid:
        !include 'executables/espresso/staticContent/ph.x.yml#/ph_grid'
    requiredKeys:
      - inputph.tr2_ph
      - inputph.asr
      - inputph.search_sym
      - inputph.prefix
      - inputph.outdir
      - inputph.fildyn
      - inputph.ldisp
      - inputph.nqx

  ph_gamma:
    input:
      - name: ph_gamma
        fileName: ph.in
    results:
      - zero_point_energy
    monitors:
      - standard_output
    applicationName: espresso
    executableName: ph.x
    contextProviders: []
    staticContext:
      ph_gamma:
        !include 'executables/espresso/staticContent/ph.x.yml#/ph_gamma'
    requiredKeys:
      - inputph.tr2_ph
      - inputph.asr
      - inputph.search_sym
      - inputph.prefix
      - inputph.outdir
      - inputph.nqx # double check this

  ph_init_qpoints:
    input:
      - name: ph_init_qpoints
        fileName: ph.in
    results: []
    monitors:
      - standard_output
    applicationName: espresso
    executableName: ph.x
    contextProviders:
      - name: QGridFormDataManager
    staticContext:
      ph_init_qpoints: !include 'executables/espresso/staticContent/ph.x.yml#/ph_init_qpoints'
    requiredKeys:
      - inputph.tr2_ph
      - inputph.recover
      - inputph.start_irr
      - inputph.last_irr
      - inputph.ldisp
      - inputph.fildyn
      - inputph.ldisp
      - inputph.prefix
      - inputph.outdir
      - inputph.nqx

  ph_grid_restart:
    input:
      - name: ph_grid_restart
        fileName: ph.in
    results: []
    monitors:
      - standard_output
    applicationName: espresso
    executableName: ph.x
    contextProviders:
      - name: QGridFormDataManager
    staticContext:
      ph_grid_restart:
        !include 'executables/espresso/staticContent/ph.x.yml#/ph_grid_restart'
    requiredKeys:
      - inputph.tr2_ph
      - inputph.recover
      - inputph.ldisp
      - inputph.prefix
      - inputph.outdir
      - inputph.fildyn
      - inputph.nqx

  ph_single_irr_qpt:
    input:
      - name: ph_single_irr_qpt
        fileName: ph.in
    results: []
    monitors:
      - standard_output
    applicationName: espresso
    executableName: ph.x
    contextProviders:
      - name: QGridFormDataManager
    staticContext:
      ph_single_irr_qpt:
        !include 'executables/espresso/staticContent/ph.x.yml#/ph_single_irr_qpt'
    requiredKeys:
      - inputph.tr2_ph
      - inputph.ldisp
      - inputph.startq
      - inputph.lastq
      - inputph.start_irr
      - inputph.last_irr
      - inputph.recover
      - inputph.fildyn
      - inputph.prefix
      - inputph.outdir
      - inputph.nqx
